<script>
    var params = {
        postSlug: '{{ app.request.attributes.get('postSlug') }}',
        device: 'Mobile',
        operatingSystem: 'Android',
        browser: 'Chrome Mobile',
        version: '56.45362',
        language: 'en',
        cookieEnabled: true
    }
    var trackPost = function () {
        var xhr = new XMLHttpRequest();
        var url = "{{ url('track') }}";
        xhr.open("POST", url, true);
        xhr.setRequestHeader("Content-type", "application/json");
        xhr.onreadystatechange = function() {
            if(xhr.readyState == 4 && xhr.status == 200) {
                var response = JSON.parse(xhr.responseText);
                console.log('Tracked: ' + response.tracked);
                console.log(params);
            }
        }
        xhr.send(JSON.stringify(params));
    }
    trackPost();
</script>